#include <stdio.h>
#include <stdlib.h>

#define MAX_N 100
#define MAX_M 100

int input_static(int matrix[MAX_N][MAX_M], int *n, int *m);
int input_dynamic_1(int ***matrix, int *n, int *m);
int input_dynamic_2(int ***matrix, int *n, int *m);
int input_dynamic_3(int ***matrix, int *n, int *m);
void transform(int *buf, int **matrix, int n, int m);
void reset_input();
void output_static(int matrix[MAX_N][MAX_M], int n, int m);
void output(int **matrix, int n, int m);
void free_matrix(int **matrix, int n);

int main(void) {
    int type, n = 0, m = 0, success = 1;
    int matrix_static[MAX_N][MAX_M];
    int *buf_static[MAX_N];
    int **matrix = NULL;

    if (scanf("%d", &type) != 1) {
        success = 0;
    } else {
        if (type == 1) {
            success = input_static(matrix_static, &n, &m);
        } else if (type == 2) {
            success = input_dynamic_1(&matrix, &n, &m);
        } else if (type == 3) {
            success = input_dynamic_2(&matrix, &n, &m);
        } else if (type == 4) {
            success = input_dynamic_3(&matrix, &n, &m);
        } else {
            success = 0;
        }
    }

    if (success) {
        if (type == 1) {
            output_static(matrix_static, n, m);
        } else {
            output(matrix, n, m);
            free_matrix(matrix, n);
        }
    } else {
        printf("n/a");
    }

    return 0;
}

int input_static(int matrix[MAX_N][MAX_M], int *n, int *m) {
    int ok = 1, c;
    if (scanf("%d%d", n, m) != 2 || *n <= 0 || *m <= 0 || *n > MAX_N || *m > MAX_M) {
        ok = 0;
    }
    for (int i = 0; i < *n && ok; i++) {
        for (int j = 0; j < *m && ok; j++) {
            if (scanf("%d", &matrix[i][j]) != 1) {
                ok = 0;
            }
        }
    }
    while ((c = getchar()) != '\n' && c != EOF) {
        if (c != ' ' && c != '\t') {
            ok = 0;
        }
    }
    return ok;
}

int input_dynamic_1(int ***matrix, int *n, int *m) {
    int ok = 1, c;
    if (scanf("%d%d", n, m) != 2 || *n <= 0 || *m <= 0) {
        ok = 0;
    }
    if (ok) {
        *matrix = malloc(*n * sizeof(int *));
        if (*matrix == NULL) {
            ok = 0;
        }
    }
    for (int i = 0; i < *n && ok; i++) {
        (*matrix)[i] = malloc(*m * sizeof(int));
        if ((*matrix)[i] == NULL) {
            ok = 0;
        }
    }
    for (int i = 0; i < *n && ok; i++) {
        for (int j = 0; j < *m && ok; j++) {
            if (scanf("%d", &(*matrix)[i][j]) != 1) {
                ok = 0;
            }
        }
    }
    while ((c = getchar()) != '\n' && c != EOF) {
        if (c != ' ' && c != '\t') {
            ok = 0;
        }
    }
    return ok;
}

int input_dynamic_2(int ***matrix, int *n, int *m) {
    int ok = 1, c;
    if (scanf("%d%d", n, m) != 2 || *n <= 0 || *m <= 0) {
        ok = 0;
    }
    if (ok) {
        *matrix = malloc(*n * sizeof(int *) + *n * *m * sizeof(int));
        if (*matrix == NULL) {
            ok = 0;
        }
    }
    if (ok) {
        int *data = (int *)(*matrix + *n);
        for (int i = 0; i < *n; i++) {
            (*matrix)[i] = data + i * (*m);
        }
    }
    for (int i = 0; i < *n && ok; i++) {
        for (int j = 0; j < *m && ok; j++) {
            if (scanf("%d", &(*matrix)[i][j]) != 1) {
                ok = 0;
            }
        }
    }
    while ((c = getchar()) != '\n' && c != EOF) {
        if (c != ' ' && c != '\t') {
            ok = 0;
        }
    }
    return ok;
}

int input_dynamic_3(int ***matrix, int *n, int *m) {
    int ok = 1, c;
    int *buf = NULL;
    if (scanf("%d%d", n, m) != 2 || *n <= 0 || *m <= 0) {
        ok = 0;
    }
    if (ok) {
        *matrix = malloc(*n * sizeof(int *));
        buf = malloc(*n * *m * sizeof(int));
        if (*matrix == NULL || buf == NULL) {
            ok = 0;
        }
    }
    if (ok) {
        transform(buf, *matrix, *n, *m);
        for (int i = 0; i < *n && ok; i++) {
            for (int j = 0; j < *m && ok; j++) {
                if (scanf("%d", &(*matrix)[i][j]) != 1) {
                    ok = 0;
                }
            }
        }
    }
    while ((c = getchar()) != '\n' && c != EOF) {
        if (c != ' ' && c != '\t') {
            ok = 0;
        }
    }
    if (!ok) {
        free(buf);
        free(*matrix);
    }
    return ok;
}

void transform(int *buf, int **matrix, int n, int m) {
    for (int i = 0; i < n; i++) {
        matrix[i] = buf + i * m;
    }
}

void output_static(int matrix[MAX_N][MAX_M], int n, int m) {
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < m; j++) {
            printf("%d", matrix[i][j]);
            if (j < m - 1) {
                printf(" ");
            }
        }
        if (i < n - 1) {
            printf("\n");
        }
    }
}

void output(int **matrix, int n, int m) {
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < m; j++) {
            printf("%d", matrix[i][j]);
            if (j < m - 1) {
                printf(" ");
            }
        }
        if (i < n - 1) {
            printf("\n");
        }
    }
}

void free_matrix(int **matrix, int n) {
    if (matrix != NULL) {
        free(matrix[0]); // valid for dynamic_2 and dynamic_3
        for (int i = 0; i < n; i++) {
            if (matrix[i] != NULL) {
                free(matrix[i]); // valid for dynamic_1
            }
        }
        free(matrix);
    }
}
