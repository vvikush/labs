#include <stdio.h>
#include <string.h>

#define MAX_PATH 256
#define MAX_LINE 1024

int input_number(int *n) {
    int result = scanf("%d", n);
    return result == 1;
}

int read_file(const char *path) {
    FILE *file = fopen(path, "r");
    int empty = 1;
    int result = 0;
    char ch;

    if (file != NULL) {
        while ((ch = fgetc(file)) != EOF) {
            putchar(ch);
            empty = 0;
        }
        fclose(file);
        if (empty == 0) {
            result = 1;
        } else {
            result = 2;
        }
    }

    return result;
}

int load_file(char *path) {
    int result = 0;
    if (scanf("%255s", path) == 1) {
        int read_result = read_file(path);
        if (read_result == 1) {
            result = 1;
        } else {
            result = 0;
        }
    }
    return result;
}

int write_to_file(const char *path) {
    char line[MAX_LINE];
    int result = 0;
    FILE *f = NULL;

    if (scanf(" ") == 0 || fgets(line, MAX_LINE, stdin) == NULL) {
        result = 0;
    } else {
        size_t len = strlen(line);
        if (len > 0 && line[len - 1] == '\n') {
            line[len - 1] = '\0';
        }
        f = fopen(path, "a");
        if (f != NULL) {
            fprintf(f, "\n%s", line);
            fclose(f);
            result = 1;
        }
    }

    return result;
}

int main(void) {
    int choice = 0;
    int loaded = 0;
    int running = 1;
    char path[MAX_PATH] = "";

    while (running == 1) {
        if (input_number(&choice) == 0) {
            printf("n/a\n");
            running = 0;
        } else {
            if (choice == -1) {
                running = 0;
            }

            if (choice == 1 && running == 1) {
                if (load_file(path) == 1) {
                    loaded = 1;
                } else {
                    printf("n/a\n");
                    loaded = 0;
                }
                printf("\n");
            }

            if (choice == 2 && running == 1) {
                if (loaded == 1 && write_to_file(path) == 1) {
                    int read_result = read_file(path);
                    if (read_result == 1) {
                        printf("\n");
                    } else {
                        printf("n/a\n\n");
                    }
                } else {
                    printf("n/a\n\n");
                }
            }
        }
    }

    return 0;
}




#include <stdio.h>
#include <string.h>

#define MAX_PATH 256
#define MAX_LINE 1024

int read_file(const char *path) {
    FILE *f = fopen(path, "r");
    int ch = 0;
    int is_empty = 1;
    if (f != NULL) {
        while ((ch = fgetc(f)) != EOF) {
            putchar(ch);
            is_empty = 0;
        }
        fclose(f);
        if (is_empty == 1) return 2;
        return 1;
    }
    return 0;
}

int load_file(char *path) {
    int res = 0;
    if (scanf("%255s", path) == 1) {
        res = read_file(path);
    }
    return res;
}

int write_to_file(const char *path) {
    char line[MAX_LINE];
    int result = 0;
    FILE *f = NULL;
    if (scanf(" ") == 0 || fgets(line, MAX_LINE, stdin) == NULL) {
        result = 0;
    } else {
        size_t len = strlen(line);
        if (len > 0 && line[len - 1] == '\n') {
            line[len - 1] = '\0';
        }
        f = fopen(path, "a");
        if (f != NULL) {
            fprintf(f, "\n%s", line);
            fclose(f);
            if (read_file(path) != 0) {
                result = 1;
            }
        }
    }
    return result;
}

int read_choice(int *n) {
    return scanf("%d", n) == 1;
}

int main() {
    int running = 1;
    int loaded = 0;
    int choice = 0;
    char path[MAX_PATH] = "";

    while (running == 1) {
        if (read_choice(&choice) == 0) {
            printf("n/a\n");
            running = 0;
        }
        if (choice == -1) {
            running = 0;
        }
        if (choice == 1) {
            int status = load_file(path);
            if (status == 1) {
                loaded = 1;
            }
            if (status == 2) {
                printf("n/a\n");
                loaded = 1;
            }
            if (status == 0) {
                printf("n/a\n");
                loaded = 0;
            }
            printf("\n");
        }
        if (choice == 2 && running == 1) {
            if (loaded == 1 && write_to_file(path) == 1) {
                printf("\n");
            } else {
                printf("n/a\n\n");
            }
        }
    }

    return 0;
}




// src/cipher.c

#include <stdio.h>
#include <string.h>

#define MAX_PATH 256
#define MAX_LINE 1024

int read_choice(int *n) {
    int res = scanf("%d", n);
    return res == 1;
}

int read_path(char *path) {
    return scanf("%255s", path) == 1;
}

int print_file(const char *path) {
    FILE *f = fopen(path, "r");
    if (f == NULL) return 0;

    int empty = 1;
    char ch;
    while ((ch = fgetc(f)) != EOF) {
        putchar(ch);
        empty = 0;
    }

    fclose(f);
    return !empty;
}

int append_to_file(const char *path) {
    char line[MAX_LINE];

    int ch;
    while ((ch = getchar()) != '\n' && ch != EOF) {} // очистка stdin

    if (fgets(line, MAX_LINE, stdin) == NULL) return 0;

    size_t len = strlen(line);
    if (len > 0 && line[len - 1] == '\n') line[len - 1] = '\0';

    FILE *f = fopen(path, "a");
    if (f == NULL) return 0;

    fprintf(f, "\n%s", line);
    fclose(f);

    return print_file(path);
}

int main(void) {
    int running = 1;
    int loaded = 0;
    char path[MAX_PATH] = "";

    while (running) {
        int choice = 0;
        if (!read_choice(&choice)) {
            printf("n/a\n");
            continue;
        }

        if (choice == -1) {
            running = 0;
        } else if (choice == 1) {
            if (read_path(path)) {
                loaded = print_file(path);
                if (!loaded) printf("n/a\n");
            } else {
                printf("n/a\n");
            }
            printf("\n");
        } else if (choice == 2) {
            if (loaded) {
                if (!append_to_file(path)) {
                    printf("n/a\n");
                }
            } else {
                printf("n/a\n");
            }
            printf("\n");
        } else {
            printf("n/a\n");
        }
    }

    return 0;
}


#include <stdio.h>
#include <string.h>

#define MAX_PATH 256
#define MAX_LINE 1024

int vybor(int *n) {
    int res = 0;
    if (scanf("%d", n) == 1) {
        res = 1;
    }
    return res;
}

int file(const char *path) {
    int result = 0;
    FILE *f = fopen(path, "r");
    if (f != NULL) {
        int pust = 1;
        char ch;
        while ((ch = fgetc(f)) != EOF) {
            putchar(ch);
            pust = 0;
        }
        fclose(f);
        if (!pust) {
            result = 1;
        }
    }
    return result;
}

int load_file(char *path) {
    int result = 0;
    if (scanf("%255s", path) == 1) {
        result = file(path);
    }
    return result;
}

int write(const char *path) {
    int result = 0;
    char line[MAX_LINE];
    scanf(" ");  // захватываем пробел перед строкой
    if (fgets(line, MAX_LINE, stdin)) {
        size_t len = strlen(line);
        if (len > 0 && line[len - 1] == '\n') {
            line[len - 1] = '\0';
        }
        FILE *f = fopen(path, "a");
        if (f != NULL) {
            fprintf(f, "\n%s", line);
            fclose(f);
            result = file(path);
        }
    }
    return result;
}

int main() {
    int n = 0;
    int loaded = 0;
    int running = 1;
    char path[MAX_PATH] = "";

    while (running) {
        if (!vybor(&n)) {
            printf("n/a\n");
            running = 0;
        } else {
            if (n == -1) {
                running = 0;
            } else {
                if (n == 1) {
                    if (load_file(path)) {
                        loaded = 1;
                    } else {
                        printf("n/a\n");
                        loaded = 0;
                    }
                    printf("\n");
                }
                if (n == 2) {
                    if (!loaded || !write(path)) {
                        printf("n/a\n");
                    }
                    printf("\n");
                }
            }
        }
    }

    return 0;
}





#include <stdio.h>
#include <string.h>

#define MAX_PATH 256
#define MAX_LINE 1024

int vybor(int *n) {
    return scanf("%d", n) == 1;
}

int file(const char *path) {
    FILE *f = fopen(path, "r");
    if (f == NULL) return 0;

    int pust = 1;
    char ch;
    while ((ch = fgetc(f)) != EOF) {
        putchar(ch);
        pust = 0;
    }
    fclose(f);
    return !pustf;
}

int load_file(char *path) {
    if (scanf("%255s", path) != 1) return 0;
    return file(path);
}

int write(const char *path) {
    char line[MAX_LINE];
    scanf(" ");
    if (!fgets(line, MAX_LINE, stdin)) return 0;

    size_t len = strlen(line);
    if (len > 0 && line[len - 1] == '\n') {
        line[len - 1] = '\0';
    }

    FILE *f = fopen(path, "a");
    if (f == NULL) return 0;

    fprintf(f, "\n%s", line);
    fclose(f);
    return file(path);
}

int main() {
    int n = 0;
    int loaded = 0;
    char path[MAX_PATH] = "";
    int running = 1;

    while (running) {
        if (!vybor(&n)) {
            printf("n/a\n");
            return 0;
        }

        if (n == -1) return 0;

        if (n == 1) {
            if (load_file(path)) {
                loaded = 1;
            } else {
                printf("n/a\n");
                loaded = 0;
            }
            printf("\n");
        }

        if (n == 2) {
            if (!loaded || !write(path)) {
                printf("n/a\n");
            }
            printf("\n");
        }
    }

    return 0;
}
